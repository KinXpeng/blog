(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bca22a36"],{3119:function(t,i,e){"use strict";var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"loading-area"},[e("div",{staticClass:"loading-icon"},[e("svg",{staticClass:"icon-svg icon1"},[e("use",{attrs:{"xlink:href":"#icon-fsux_banyuanhuantu"}})]),e("svg",{staticClass:"icon-svg icon2"},[e("use",{attrs:{"xlink:href":"#icon-fsux_banyuanhuantu"}})])])])},a=[],n={data:function(){return{}},methods:{},created:function(){}},r=n,o=(e("31a8"),e("2877")),c=Object(o["a"])(r,s,a,!1,null,"27405c02",null);i["a"]=c.exports},"31a8":function(t,i,e){"use strict";e("7758")},4521:function(t,i,e){},7758:function(t,i,e){},"7a6d":function(t,i,e){"use strict";e("4521")},c67f:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"article-item-info"},[e("loading-area",{directives:[{name:"show",rawName:"v-show",value:t.loadingFlag,expression:"loadingFlag"}]}),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadingFlag,expression:"!loadingFlag"}],staticClass:"article-info"},[e("el-card",{staticClass:"now-location"},[t.articleList[0]?e("div",{staticClass:"location-info flex"},[e("span",[t._v("当前位置：")]),e("span",{staticClass:"location-desc",on:{click:t.backArticleList}},[t._v("首页")]),e("i",{staticClass:"el-icon-arrow-right"}),e("span",{domProps:{textContent:t._s("article"==t.articleList[0].category?"文章":"说说")}}),e("i",{staticClass:"el-icon-arrow-right"}),e("span",{staticClass:"location-title"},[t._v(t._s(t.articleList[0].title))])]):t._e()]),e("el-card",[t._e(),t.articleList.length>0?e("div",{staticClass:"info-desc"},[e("div",{staticClass:"info-title"},[t._v(t._s(t.articleList[0].title))]),e("div",{staticClass:"info-tags"},[e("div",{staticClass:"tags-top flex"},[e("svg",{staticClass:"icon-svg"},["article"==t.articleList[0].category?e("use",{attrs:{"xlink:href":"#icon-biaoqian1"}}):"moment"==t.articleList[0].category?e("use",{attrs:{"xlink:href":"#icon-biaoqian2"}}):e("use",{attrs:{"xlink:href":"#icon-biaoqian3"}})]),e("span",{staticClass:"tags-name"},[t._v("KinXpeng")]),e("span",[t._v(t._s(t.articleList[0].create_time))])]),e("div",{staticClass:"tag-bottom flex"},[e("p",{staticClass:"bottom-category"},[t._v("分类栏目："),e("span",{staticClass:"tag-button"},[t._v(t._s(t.articleList[0].category))])]),e("p",{staticClass:"bottom-tags"},[t._v("文章标签："),e("span",{staticClass:"tag-button"},[t._v(t._s(t.articleList[0].tags))])])])]),e("div",{staticClass:"markdown-body",domProps:{innerHTML:t._s(t.articleList[0].content)}})]):t._e()]),e("el-card",{staticClass:"article-opertion"},[t.articleList[0]?e("div",{staticClass:"opertion-item flex"},[e("p",{on:{click:function(i){return t.handleThumbs(t.articleList[0])}}},[e("svg",{staticClass:"icon-svg"},[e("use",{attrs:{"xlink:href":"#icon-dianzan"}})]),e("span",[t._v("点赞("+t._s(t.articleList[0].thumbs)+")")])]),e("p",[e("svg",{staticClass:"icon-svg"},[e("use",{attrs:{"xlink:href":"#icon-qiandai"}})]),e("span",[t._v("打赏")])]),e("p",{on:{click:function(i){return t.handleComments(t.articleList[0])}}},[e("svg",{staticClass:"icon-svg"},[e("use",{attrs:{"xlink:href":"#icon-pinglun"}})]),e("span",[t._v("评论")])])]):t._e()])],1)],1)},a=[],n=e("1da1"),r=(e("96cf"),e("159b"),e("1276"),e("ac1f"),e("3119")),o={components:{loadingArea:r["a"]},data:function(){return{articleList:[],loadingFlag:!1,article_id:"",thumbsFlag:!1}},methods:{getInitArticleList:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var e;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e={article_id:t.article_id,title:"",tags:"",create_time:"",category:"",page:1,rows:1},t.loadingFlag=!0,i.next=4,t.$axios.post("/blog-api/article/list",e).then((function(i){t.loadingFlag=!1,0==i.data.code?(i.data.data.data.forEach((function(t){var i=t.create_time.split("T");t.create_time=i[0]+" "+i[1].split(".")[0]})),t.articleList=i.data.data.data,t.initViewCounts(t.articleList[0])):t.$notify({type:"error",position:"top-right",message:i.data.msg})})).catch((function(i){t.loadingFlag=!1,t.$notify({type:"error",position:"top-right",message:"网络开小差了哦，请稍后再尝试！"}),console.log(i)}));case 4:case"end":return i.stop()}}),i)})))()},backArticleList:function(){this.$router.push({path:"/"})},handleThumbs:function(t){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=JSON.parse(sessionStorage.getItem("thumbsArr")),s&&s.length>0&&s.forEach((function(e){e==t.article_id&&(i.thumbsFlag=!0)})),!JSON.parse(sessionStorage.getItem("thumbs"))||!i.thumbsFlag){e.next=6;break}i.$notify({type:"error",position:"top-right",message:"您已经点过赞啦"}),e.next=9;break;case 6:return t.thumbs++,e.next=9,i.$axios.post("/blog-api/article/thumbs",{article_id:t.article_id,thumbs:t.thumbs}).then((function(e){if(0==e.data.code&&i.$notify({type:"success",position:"top-right",message:"感谢您的点赞哦"}),sessionStorage.setItem("thumbs",!0),void 0==JSON.parse(sessionStorage.getItem("thumbsArr"))||null==JSON.parse(sessionStorage.getItem("thumbsArr")))sessionStorage.setItem("thumbsArr",JSON.stringify([t.article_id]));else{var s=JSON.parse(sessionStorage.getItem("thumbsArr"));s.push(t.article_id),sessionStorage.setItem("thumbsArr",JSON.stringify(s))}})).catch((function(t){console.log(t),i.$notify({type:"error",position:"top-right",message:"可能出了一点点小差错呢"})}));case 9:case"end":return e.stop()}}),e)})))()},handleComments:function(t){this.$notify({type:"info",position:"top-right",message:"开发中，敬请期待。。。"})},initViewCounts:function(t){var i=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.view_count++,e.next=3,i.$axios.post("/blog-api/article/viewCounts",{article_id:t.article_id,view_count:t.view_count}).then((function(t){t.data.code})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})))()}},created:function(){var t=this;this.article_id=sessionStorage.getItem("articleId"),this.getInitArticleList(),window.addEventListener("setItem",(function(){t.article_id!=sessionStorage.getItem("articleId")&&(t.article_id=sessionStorage.getItem("articleId"),t.getInitArticleList())}))}},c=o,l=(e("7a6d"),e("2877")),u=Object(l["a"])(c,s,a,!1,null,"7c39b038",null);i["default"]=u.exports}}]);
//# sourceMappingURL=chunk-bca22a36.bc293a67.js.map